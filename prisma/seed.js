// Prisma ç§å­è„šæœ¬
// ç”¨äºŽåˆå§‹åŒ–æ•°æ®åº“å¹¶æ’å…¥æµ‹è¯•æ•°æ®

const { PrismaClient } = require('@prisma/client');

const prisma = new PrismaClient();

async function main() {
  console.log('ðŸŒ± å¼€å§‹åˆå§‹åŒ–æ•°æ®åº“...');

  // æ¸…ç©ºçŽ°æœ‰æ•°æ®ï¼ˆå¯é€‰ï¼Œç”¨äºŽå¼€å‘çŽ¯å¢ƒï¼‰
  console.log('æ¸…ç†çŽ°æœ‰æ•°æ®...');
  await prisma.article.deleteMany();
  await prisma.user.deleteMany();

  // åˆ›å»ºæµ‹è¯•ç”¨æˆ·
  // Note: For MVP, storing plain text passwords. In production, use bcrypt.
  console.log('åˆ›å»ºæµ‹è¯•ç”¨æˆ·...');
  const password1 = 'password123';
  const password2 = 'test456';

  const user1 = await prisma.user.create({
    data: {
      username: 'testuser',
      passwordHash: password1, // Plain text for MVP
    },
  });

  const user2 = await prisma.user.create({
    data: {
      username: 'admin',
      passwordHash: password2, // Plain text for MVP
    },
  });

  console.log(`âœ“ åˆ›å»ºç”¨æˆ·: ${user1.username} (${user1.id})`);
  console.log(`âœ“ åˆ›å»ºç”¨æˆ·: ${user2.username} (${user2.id})`);

  // åˆ›å»ºæµ‹è¯•æ–‡ç« 
  console.log('åˆ›å»ºæµ‹è¯•æ–‡ç« ...');
  const articles = [
    {
      title: 'äººå·¥æ™ºèƒ½çš„å‘å±•åŽ†ç¨‹',
      preview: 'äººå·¥æ™ºèƒ½ä»Žè¯žç”Ÿåˆ°çŽ°åœ¨å·²ç»èµ°è¿‡äº†70å¤šå¹´çš„åŽ†ç¨‹ï¼Œç»åŽ†äº†å¤šæ¬¡èµ·ä¼ã€‚æœ¬æ–‡å°†å›žé¡¾AIå‘å±•çš„å…³é”®èŠ‚ç‚¹ã€‚',
      content: 'äººå·¥æ™ºèƒ½ï¼ˆArtificial Intelligenceï¼Œç®€ç§°AIï¼‰ä»Žè¯žç”Ÿåˆ°çŽ°åœ¨å·²ç»èµ°è¿‡äº†70å¤šå¹´çš„åŽ†ç¨‹ï¼Œç»åŽ†äº†å¤šæ¬¡èµ·ä¼ã€‚æœ¬æ–‡å°†å›žé¡¾AIå‘å±•çš„å…³é”®èŠ‚ç‚¹ã€‚\n\n1950å¹´ä»£ï¼Œå›¾çµæå‡ºäº†è‘—åçš„å›¾çµæµ‹è¯•ï¼Œä¸ºAIç ”ç©¶å¥ å®šäº†åŸºç¡€ã€‚1956å¹´ï¼Œè¾¾ç‰¹èŒ…æ–¯ä¼šè®®æ ‡å¿—ç€AIå­¦ç§‘çš„æ­£å¼è¯žç”Ÿã€‚\n\n1960-1970å¹´ä»£æ˜¯AIçš„ç¬¬ä¸€æ¬¡ç¹è£æœŸï¼Œä¸“å®¶ç³»ç»Ÿå¼€å§‹å‡ºçŽ°ã€‚ä½†éšåŽé‡åˆ°äº†è®¡ç®—èƒ½åŠ›ä¸è¶³çš„é—®é¢˜ï¼Œè¿›å…¥äº†ç¬¬ä¸€æ¬¡AIå¯’å†¬ã€‚\n\n1980å¹´ä»£ï¼Œä¸“å®¶ç³»ç»Ÿé‡æ–°å…´èµ·ï¼Œä½†å¾ˆå¿«åˆé‡åˆ°äº†çŸ¥è¯†èŽ·å–çš„ç“¶é¢ˆã€‚\n\n2000å¹´ä»£ä»¥åŽï¼Œéšç€è®¡ç®—èƒ½åŠ›çš„æå‡å’Œå¤§æ•°æ®çš„å‡ºçŽ°ï¼Œæœºå™¨å­¦ä¹ ç‰¹åˆ«æ˜¯æ·±åº¦å­¦ä¹ æŠ€æœ¯å–å¾—äº†çªç ´æ€§è¿›å±•ã€‚2012å¹´ï¼ŒAlexNetåœ¨ImageNetç«žèµ›ä¸­çš„èƒœåˆ©æ ‡å¿—ç€æ·±åº¦å­¦ä¹ æ—¶ä»£çš„åˆ°æ¥ã€‚\n\nå¦‚ä»Šï¼ŒChatGPTç­‰å¤§è¯­è¨€æ¨¡åž‹çš„å‡ºçŽ°ï¼Œè®©AIè¿›å…¥äº†æ–°çš„å‘å±•é˜¶æ®µã€‚',
      isImportant: true,
      authorId: user1.id,
    },
    {
      title: 'å¦‚ä½•å­¦ä¹ ç¼–ç¨‹',
      preview: 'ç¼–ç¨‹æ˜¯ä¸€é—¨éœ€è¦æŒç»­ç»ƒä¹ çš„æŠ€èƒ½ã€‚æœ¬æ–‡å°†ä»‹ç»å­¦ä¹ ç¼–ç¨‹çš„æœ‰æ•ˆæ–¹æ³•å’Œå»ºè®®ã€‚',
      content: 'ç¼–ç¨‹æ˜¯ä¸€é—¨éœ€è¦æŒç»­ç»ƒä¹ çš„æŠ€èƒ½ã€‚æœ¬æ–‡å°†ä»‹ç»å­¦ä¹ ç¼–ç¨‹çš„æœ‰æ•ˆæ–¹æ³•å’Œå»ºè®®ã€‚\n\né¦–å…ˆï¼Œé€‰æ‹©ä¸€é—¨é€‚åˆåˆå­¦è€…çš„ç¼–ç¨‹è¯­è¨€å¾ˆé‡è¦ã€‚Pythonå› å…¶è¯­æ³•ç®€æ´ã€åº”ç”¨å¹¿æ³›ï¼Œæ˜¯å¾ˆå¤šäººçš„é¦–é€‰ã€‚JavaScriptä¹Ÿæ˜¯ä¸é”™çš„é€‰æ‹©ï¼Œç‰¹åˆ«æ˜¯å¦‚æžœä½ æƒ³åšWebå¼€å‘ã€‚\n\nå…¶æ¬¡ï¼Œç†è®ºå­¦ä¹ è¦ä¸Žå®žè·µç›¸ç»“åˆã€‚å…‰çœ‹ä¹¦æ˜¯ä¸å¤Ÿçš„ï¼Œå¿…é¡»åŠ¨æ‰‹å†™ä»£ç ã€‚å¯ä»¥ä»Žç®€å•çš„é¡¹ç›®å¼€å§‹ï¼Œæ¯”å¦‚åšä¸€ä¸ªè®¡ç®—å™¨ã€å¾…åŠžäº‹é¡¹åˆ—è¡¨ç­‰ã€‚\n\nç¬¬ä¸‰ï¼Œè¦å­¦ä¼šé˜…è¯»å’Œç†è§£åˆ«äººçš„ä»£ç ã€‚GitHubä¸Šæœ‰å¤§é‡çš„å¼€æºé¡¹ç›®ï¼Œå¯ä»¥å­¦ä¹ ä¼˜ç§€çš„ä»£ç é£Žæ ¼å’Œè®¾è®¡æ¨¡å¼ã€‚\n\næœ€åŽï¼Œä¿æŒè€å¿ƒå’ŒæŒç»­å­¦ä¹ ã€‚ç¼–ç¨‹æ˜¯ä¸€ä¸ªä¸æ–­å­¦ä¹ æ–°æŠ€æœ¯çš„é¢†åŸŸï¼Œä¸è¦å› ä¸ºé‡åˆ°å›°éš¾å°±æ”¾å¼ƒã€‚',
      isImportant: false,
      authorId: user1.id,
    },
    {
      title: 'ç§»åŠ¨åº”ç”¨å¼€å‘è¶‹åŠ¿',
      preview: 'ç§»åŠ¨åº”ç”¨å¼€å‘é¢†åŸŸæ­£åœ¨å¿«é€Ÿå‘å±•ã€‚æœ¬æ–‡å°†ä»‹ç»å½“å‰çš„ä¸»è¦è¶‹åŠ¿å’ŒæŠ€æœ¯ã€‚',
      content: 'ç§»åŠ¨åº”ç”¨å¼€å‘é¢†åŸŸæ­£åœ¨å¿«é€Ÿå‘å±•ã€‚æœ¬æ–‡å°†ä»‹ç»å½“å‰çš„ä¸»è¦è¶‹åŠ¿å’ŒæŠ€æœ¯ã€‚\n\nè·¨å¹³å°å¼€å‘æ¡†æž¶è¶Šæ¥è¶Šå—æ¬¢è¿Žã€‚React Nativeã€Flutter å’Œ Xamarin ç­‰å·¥å…·è®©å¼€å‘è€…å¯ä»¥ç”¨ä¸€å¥—ä»£ç åŒæ—¶æ”¯æŒ iOS å’Œ Androidã€‚è¿™å¤§å¤§æé«˜äº†å¼€å‘æ•ˆçŽ‡ï¼Œé™ä½Žäº†ç»´æŠ¤æˆæœ¬ã€‚\n\nåŽŸç”Ÿå¼€å‘è™½ç„¶æ€§èƒ½æœ€ä¼˜ï¼Œä½†éœ€è¦ç»´æŠ¤ä¸¤å¥—ä»£ç ã€‚å¯¹äºŽå¤§å¤šæ•°åº”ç”¨æ¥è¯´ï¼Œè·¨å¹³å°æ–¹æ¡ˆå·²ç»è¶³å¤Ÿå¥½ã€‚\n\nå°ç¨‹åºç”Ÿæ€ä¹Ÿåœ¨å¿«é€Ÿå‘å±•ã€‚å¾®ä¿¡å°ç¨‹åºã€æ”¯ä»˜å®å°ç¨‹åºç­‰è®©ç”¨æˆ·æ— éœ€ä¸‹è½½å°±èƒ½ä½¿ç”¨åº”ç”¨ã€‚\n\n5G ç½‘ç»œçš„æ™®åŠä¸ºç§»åŠ¨åº”ç”¨å¸¦æ¥äº†æ–°çš„å¯èƒ½æ€§ã€‚æ›´å¿«çš„ç½‘é€Ÿå’Œæ›´ä½Žçš„å»¶è¿Ÿä½¿å¾—å®žæ—¶è§†é¢‘ã€AR/VR ç­‰åº”ç”¨æˆä¸ºå¯èƒ½ã€‚\n\næœªæ¥ï¼Œç§»åŠ¨åº”ç”¨å°†æ›´åŠ æ™ºèƒ½åŒ–ï¼ŒAI èƒ½åŠ›å°†æˆä¸ºæ ‡é…ã€‚',
      isImportant: true,
      authorId: user2.id,
    },
    {
      title: 'æ—¶é—´ç®¡ç†çš„è‰ºæœ¯',
      preview: 'æœ‰æ•ˆçš„æ—¶é—´ç®¡ç†æ˜¯æé«˜å·¥ä½œæ•ˆçŽ‡çš„å…³é”®ã€‚æœ¬æ–‡å°†åˆ†äº«ä¸€äº›å®žç”¨çš„æ—¶é—´ç®¡ç†æŠ€å·§ã€‚',
      content: 'æœ‰æ•ˆçš„æ—¶é—´ç®¡ç†æ˜¯æé«˜å·¥ä½œæ•ˆçŽ‡çš„å…³é”®ã€‚æœ¬æ–‡å°†åˆ†äº«ä¸€äº›å®žç”¨çš„æ—¶é—´ç®¡ç†æŠ€å·§ã€‚\n\né¦–å…ˆï¼Œè¦å­¦ä¼šåˆ¶å®šä¼˜å…ˆçº§ã€‚ä¸æ˜¯æ‰€æœ‰ä»»åŠ¡éƒ½åŒç­‰é‡è¦ã€‚å¯ä»¥ä½¿ç”¨å››è±¡é™æ³•åˆ™ï¼šé‡è¦ä¸”ç´§æ€¥ã€é‡è¦ä½†ä¸ç´§æ€¥ã€ç´§æ€¥ä½†ä¸é‡è¦ã€æ—¢ä¸é‡è¦ä¹Ÿä¸ç´§æ€¥ã€‚ä¼˜å…ˆå¤„ç†é‡è¦ä¸”ç´§æ€¥çš„äº‹æƒ…ã€‚\n\nå…¶æ¬¡ï¼Œè¦é¿å…å¤šä»»åŠ¡å¤„ç†ã€‚è™½ç„¶çœ‹èµ·æ¥åŒæ—¶åšå¤šä»¶äº‹å¾ˆé«˜æ•ˆï¼Œä½†å®žé™…ä¸Šä¼šé™ä½Žä¸“æ³¨åº¦å’Œæ•ˆçŽ‡ã€‚ä¸€æ¬¡åªä¸“æ³¨äºŽä¸€ä»¶äº‹ï¼Œå®ŒæˆåŽå†åšä¸‹ä¸€ä»¶ã€‚\n\nç¬¬ä¸‰ï¼Œè¦å­¦ä¼šè¯´"ä¸"ã€‚ä¸è¦æŽ¥å—æ‰€æœ‰è¯·æ±‚ï¼Œç‰¹åˆ«æ˜¯é‚£äº›ä¸é‡è¦æˆ–ä¸ç´§æ€¥çš„äº‹æƒ…ã€‚ä¿æŠ¤è‡ªå·±çš„æ—¶é—´å°±æ˜¯ä¿æŠ¤è‡ªå·±çš„æ•ˆçŽ‡ã€‚\n\nç¬¬å››ï¼Œè¦åˆ©ç”¨ç¢Žç‰‡æ—¶é—´ã€‚ç­‰è½¦ã€æŽ’é˜Ÿæ—¶å¯ä»¥å¤„ç†ä¸€äº›ç®€å•ä»»åŠ¡ï¼Œæ¯”å¦‚å›žå¤é‚®ä»¶ã€é˜…è¯»æ–‡ç« ç­‰ã€‚\n\næœ€åŽï¼Œè¦å®šæœŸå›žé¡¾å’Œè°ƒæ•´ã€‚æ¯å‘¨æˆ–æ¯æœˆå›žé¡¾è‡ªå·±çš„æ—¶é—´ä½¿ç”¨æƒ…å†µï¼Œæ‰¾å‡ºå¯ä»¥æ”¹è¿›çš„åœ°æ–¹ã€‚',
      isImportant: false,
      authorId: user2.id,
    },
  ];

  for (const articleData of articles) {
    const article = await prisma.article.create({
      data: articleData,
    });
    console.log(`âœ“ åˆ›å»ºæ–‡ç« : ${article.title} (${article.id})`);
  }

  console.log('\nâœ… æ•°æ®åº“åˆå§‹åŒ–å®Œæˆï¼');
  console.log('\næµ‹è¯•ç”¨æˆ·ï¼š');
  console.log('  ç”¨æˆ·å: testuser, å¯†ç : password123');
  console.log('  ç”¨æˆ·å: admin, å¯†ç : test456');
}

main()
  .catch((e) => {
    console.error('âŒ åˆå§‹åŒ–å¤±è´¥:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });

